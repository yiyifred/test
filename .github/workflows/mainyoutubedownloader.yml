name: YouTubeDownloader
on:
  workflow_dispatch:
  
jobs:
  run-python-script:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-python@v2
        with:
          python-version: '3.13.0-alpha.5'
      - run: |
            sudo apt install yt-dlp
            cd YouTubeDownload
            yt-dlp.exe --no-check-certificate -f "bv[ext=mp4][height<=1080]+ba[ext=m4a]" --write-auto-subs --sub-langs "en" --sub-format "srt" --convert-sub "srt" --cookies-from-browser "chrome" -F "https://www.youtube.com/@griffpatch/playlists"
      - run: |
            git config --global user.name "yiyifred"
            git config --global user.email "124337092+yiyifred@users.noreply.github.com"
      - run: |
            ls -l
            git add .
            git status -s
            git commit -m "1"
            git push -u origin master
  
